<?xml version="1.0" encoding="UTF-8" ?>
<ContentPage
    xmlns="http://xamarin.com/schemas/2014/forms"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:contr="clr-namespace:Retail.Controls"
    xmlns:cards="clr-namespace:Syncfusion.XForms.Cards;assembly=Syncfusion.Cards.XForms"
    xmlns:sys="clr-namespace:System;assembly=mscorlib"
    xmlns:xct="http://xamarin.com/schemas/2020/toolkit"
    x:Class="Retail.Views.PriceTracker.DisplayTrackerView"
    xmlns:d="http://xamarin.com/schemas/2014/forms/design"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:ios="clr-namespace:Xamarin.Forms.PlatformConfiguration.iOSSpecific;assembly=Xamarin.Forms.Core"
    xmlns:autocomplete="clr-namespace:Syncfusion.SfAutoComplete.XForms;assembly=Syncfusion.SfAutoComplete.XForms" xmlns:syncfusion="clr-namespace:Syncfusion.XForms.Expander;assembly=Syncfusion.Expander.XForms"
    ios:Page.UseSafeArea="true" x:Name="root" Title="Display Tracker"
    BackgroundColor="{StaticResource LighterGray}">
    <ContentPage.Content>
        <ScrollView>
            <AbsoluteLayout>
                <BoxView Style="{StaticResource CardBlueStyle}" AbsoluteLayout.LayoutBounds="{Binding HomeCircle}"/>

                <Grid Padding="5" VerticalOptions="FillAndExpand">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="auto"/>
                    </Grid.RowDefinitions>
                    <Grid Padding="0,0,0,0">
                        <Grid.Padding>
                            <OnPlatform x:TypeArguments="Thickness">
                                <On Platform="Android">0,0,0,0</On>
                                <On Platform="iOS">0,0,0,0</On>
                            </OnPlatform>
                        </Grid.Padding>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="auto"/>
                        </Grid.RowDefinitions>
                        <Grid Padding="4" Grid.Row="0">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="auto"/>
                                <RowDefinition Height="auto"/>
                                <RowDefinition Height="auto"/>
                                <RowDefinition Height="auto"/>
                                <RowDefinition Height="auto"/>
                                <RowDefinition Height="auto"/>
                            </Grid.RowDefinitions>

                            <!--#region Filter Selection-->
                            <cards:SfCardView Grid.Row="0" Padding="10" CornerRadius="10" HasShadow="False">
                                <StackLayout>
                                    <Grid Grid.Row="0" RowSpacing="0">
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="auto"/>
                                            <RowDefinition Height="auto"/>
                                            <RowDefinition Height="auto"/>   
                                        </Grid.RowDefinitions>

                                        <Grid Grid.Row="0" RowSpacing="0">
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="auto"/>
                                            </Grid.RowDefinitions>
                                            <Grid Grid.Row="0" RowSpacing="0" Padding="5">
                                                <Grid.RowDefinitions>
                                                    <RowDefinition Height="auto"/>
                                                    <RowDefinition Height="auto"/>
                                                    <RowDefinition Height="auto"/>
                                                    <RowDefinition Height="auto"/>
                                                    <RowDefinition Height="auto"/>
                                                </Grid.RowDefinitions>
                                                
                                                <Grid Grid.Row="0" RowSpacing="0" >
                                                    <Grid.RowDefinitions>
                                                        <RowDefinition Height="auto"/>
                                                        <RowDefinition Height="auto"/>
                                                    </Grid.RowDefinitions>

                                                    <Label Grid.Row="0" Text="Select Entry Date" Style="{StaticResource MyTitleLabel}" Padding="2" />
                                                    <contr:RoundedCornerView Grid.Row="1" HeightRequest="42">
                                                        <Grid Padding="0,0,0,0" RowSpacing="0">
                                                            <Grid.RowDefinitions>
                                                                <RowDefinition Height="auto"/>
                                                                <RowDefinition Height="1"/>
                                                            </Grid.RowDefinitions>
                                                            
                                                            <!--<Grid Grid.Row="0" Padding="5,5,5,0">
                                                                
                                                                <contr:DatePickerCtrl  TextColor="{StaticResource DarkGray}" FontSize="15"
                                                                            FontFamily="calibribold" x:Name="selectDate" Placeholder="Select Date"
                                                                            Grid.Row="0" IsVisible="{Binding SelectedDateVisible}" HeightRequest="40"
                                                                            Format="dd-MMM-yyyy" HasBorder="False" 
                                                                            MaximumDate="{x:Static sys:DateTime.Now}" PlaceholderColor="{StaticResource PlcGray}"/>
                                                              

                                                                <Image x:Name="imgDP" Source="calendarnew" Grid.Row="0" Aspect="AspectFit" VerticalOptions="Center" HorizontalOptions="EndAndExpand" Margin="0,0,5,0" HeightRequest="20" WidthRequest="20">
                                                                    <Image.GestureRecognizers>
                                                                        <TapGestureRecognizer Tapped="TapGestureRecognizer_Tapped" NumberOfTapsRequired="1"/>
                                                                    </Image.GestureRecognizers>
                                                                </Image>
                                                            </Grid>-->
                                                            <Grid Grid.Row="0" Padding="5,5,5,0" VerticalOptions="EndAndExpand"  >
                                                                <contr:TitledDateTimePicker x:Name="selectDate"
                                                                    Grid.Row="0" SDate="{x:Static sys:DateTime.Now}"
                                                                    SelectedDate="{Binding SelectedDate}" Command="{Binding DateSelectCommand}"
                                                                    ItemTapped="selectDate_ItemTapped"
                                                                    IsEnabled="{Binding EntryDateEnable}"/>
                                                            </Grid>
                                                            <Grid Grid.Row="1" Padding="5,0">
                                                                <BoxView Grid.Row="0" BackgroundColor="{StaticResource LightGray}" VerticalOptions="Start"/>
                                                            </Grid>
                                                        </Grid>
                                                    </contr:RoundedCornerView>
                                                </Grid>

                                                <!--<Grid Grid.Row="1" RowSpacing="0" >
                                                    <Grid.RowDefinitions>
                                                        <RowDefinition Height="auto"/>
                                                        <RowDefinition Height="auto"/>
                                                    </Grid.RowDefinitions>

                                                    <Label Grid.Row="0" Text="Store" Style="{StaticResource MyTitleLabel}" Padding="2" />
                                                    <contr:RoundedCornerView Grid.Row="1" HeightRequest="42">
                                                        <Grid Padding="{OnPlatform iOS='-2,-2,-2,5',Android='0,0,0,5'}" RowSpacing="0">
                                                            <Grid.RowDefinitions>
                                                                <RowDefinition Height="auto"/>
                                                                <RowDefinition Height="1"/>
                                                            </Grid.RowDefinitions>

                                                            <Grid Grid.Row="0" >
                                                                <contr:TitleDropdownView Placeholder="Select Store" PlaceholderColor="{StaticResource PlcGray}"
                                                                                            HorizontalOptions="StartAndExpand"
                                                                                            PickerItemsSource="{Binding StoreDropDown}" ItemDisplayBinding="Title" SelectedItem="{Binding SelectedStore}" Command="{Binding SelectStoreCommand}" />
                                                            </Grid>
                                                            <Grid Grid.Row="1" Padding="5,0">
                                                                <BoxView Grid.Row="0" BackgroundColor="{StaticResource LightGray}" VerticalOptions="Start"/>
                                                            </Grid>
                                                        </Grid>
                                                    </contr:RoundedCornerView>
                                                </Grid>-->

                                                <Grid Grid.Row="1" RowSpacing="0" >
                                                    <Grid.RowDefinitions>
                                                        <RowDefinition Height="auto"/>
                                                        <RowDefinition Height="auto"/>
                                                    </Grid.RowDefinitions>
                                                    <Label Grid.Row="0" Text="Store" Style="{StaticResource MyTitleLabel}" Padding="2" />
                                                    <Grid Grid.Row="1" BackgroundColor="White" VerticalOptions="Center" Padding="5,0,5,0">
                                                        <Grid.RowDefinitions>
                                                            <RowDefinition Height="auto"/>
                                                            <RowDefinition Height="1"/>
                                                            <RowDefinition Height="auto"/> 
                                                        </Grid.RowDefinitions>
                                                        <contr:ImageEntry VerticalOptions="Center"
                                                                        Focused="txtStore_Focused"
                                                                        Grid.Row="0" Placeholder="Select Store"
                                                                        Style="{StaticResource MyValueLabel}" 
                                                                        x:Name="txtStore" FontSize="15"
                                                                        Text="{Binding SelectedStoreText}"
                                                                        HorizontalTextAlignment="Start" Image="downarrowgray"
                                                                        IsEnabled="False" ImageHeight="20" ImageWidth="20"
                                                                        ImageAlignment="Right">
                                                                <VisualStateManager.VisualStateGroups>
                                                                    <VisualStateGroup x:Name="CommonStates">
                                                                        <VisualState x:Name="Disabled">
                                                                            <VisualState.Setters>
                                                                                <Setter Property="TextColor" Value="{StaticResource DarkGray}" />
                                                                            </VisualState.Setters>
                                                                        </VisualState>
                                                                    </VisualStateGroup>
                                                                </VisualStateManager.VisualStateGroups>
                                                            <contr:ImageEntry.HeightRequest>
                                                                    <OnPlatform x:TypeArguments="x:Double">
                                                                            <On Platform="Android">40</On>
                                                                            <On Platform="iOS">42</On>
                                                                        </OnPlatform>
                                                            </contr:ImageEntry.HeightRequest>
                                                        </contr:ImageEntry>
                                                        <Grid Grid.Row="1">
                                                            <BoxView  BackgroundColor="#B4B1B1" VerticalOptions="Start"/>
                                                        </Grid>
                                                        <Grid.GestureRecognizers>
                                                            <TapGestureRecognizer
                                                                Tapped="TapGestureRecognizer_Tapped_3"
                                                                NumberOfTapsRequired="1"
                                                                />
                                                        </Grid.GestureRecognizers>
                                                    </Grid>
                                                </Grid>

                                                <Grid Grid.Row="2" Padding="8,8,8,0" RowSpacing="0">
                                                    <Grid.RowDefinitions>
                                                        <RowDefinition Height="auto"/>
                                                    </Grid.RowDefinitions>
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="6*"/>
                                                        <ColumnDefinition Width="4*"/>
                                                    </Grid.ColumnDefinitions>
                                                    <Label Grid.Row="0" Grid.Column="1" HorizontalOptions="EndAndExpand" Text="Upload Photo"
                                                            TextDecorations="Underline" Style="{StaticResource MyTitleLabel}" TextColor="{StaticResource BlueColor}" MaxLines="1"
                                                            LineBreakMode="TailTruncation">
                                                        <Label.GestureRecognizers>
                                                            <TapGestureRecognizer Command="{Binding UploadPhotoCommand}"/>
                                                        </Label.GestureRecognizers>
                                                    </Label> 
                                                </Grid>
                                                    
                                                <Grid Grid.Row="3" RowSpacing="0" >
                                                    <Grid.RowDefinitions>
                                                        <RowDefinition Height="auto"/>
                                                        <RowDefinition Height="auto"/> 
                                                    </Grid.RowDefinitions>

                                                    <Label Grid.Row="0" Text="Product Category" Style="{StaticResource MyTitleLabel}" Padding="2" />
                                                    <Grid Grid.Row="1" BackgroundColor="White" VerticalOptions="Center" Padding="5,0,5,0">
                                                        <Grid.RowDefinitions>
                                                            <RowDefinition Height="auto"/>
                                                            <RowDefinition Height="1"/>
                                                            <RowDefinition Height="auto"/> 
                                                        </Grid.RowDefinitions>
                                                        <contr:ImageEntry VerticalOptions="Center"
                                                                        Focused="txtCategory_Focused"
                                                                        Grid.Row="0" Placeholder="Select Catgeory"
                                                                        Style="{StaticResource MyValueLabel}" 
                                                                        x:Name="txtCategory" FontSize="15"
                                                                        Text="{Binding SelectedCategoryText}"
                                                                        HorizontalTextAlignment="Start" Image="downarrowgray"
                                                                        IsEnabled="False" ImageHeight="20" ImageWidth="20"
                                                                        ImageAlignment="Right">
                                                                <VisualStateManager.VisualStateGroups>
                                                                    <VisualStateGroup x:Name="CommonStates">
                                                                        <VisualState x:Name="Disabled">
                                                                            <VisualState.Setters>
                                                                                <Setter Property="TextColor" Value="{StaticResource DarkGray}" />
                                                                            </VisualState.Setters>
                                                                        </VisualState>
                                                                    </VisualStateGroup>
                                                                </VisualStateManager.VisualStateGroups>
                                                            <contr:ImageEntry.HeightRequest>
                                                                    <OnPlatform x:TypeArguments="x:Double">
                                                                            <On Platform="Android">40</On>
                                                                            <On Platform="iOS">42</On>
                                                                        </OnPlatform>
                                                            </contr:ImageEntry.HeightRequest>
                                                        </contr:ImageEntry>
                                                        <Grid Grid.Row="1">
                                                            <BoxView  BackgroundColor="#B4B1B1" VerticalOptions="Start"/>
                                                        </Grid>
                                                        <Grid.GestureRecognizers>
                                                            <TapGestureRecognizer
                                                                Tapped="TapGestureRecognizer_Tapped_2"
                                                                NumberOfTapsRequired="1"
                                                                />
                                                        </Grid.GestureRecognizers>
                                                    </Grid>
                                                </Grid>

                                                <Grid Grid.Row="4" RowSpacing="0" >
                                                    <Grid.RowDefinitions>
                                                        <RowDefinition Height="auto"/>
                                                        <RowDefinition Height="auto"/>
                                                    </Grid.RowDefinitions>

                                                    <Label Grid.Row="0" Text="Product Subcategory" Style="{StaticResource MyTitleLabel}" Padding="2" />

                                                    <Grid Grid.Row="1" VerticalOptions="Center" Padding="5,0,5,0">
                                                        <Grid.RowDefinitions>
                                                            <RowDefinition Height="auto"/>
                                                            <RowDefinition Height="1"/>
                                                            <RowDefinition Height="auto"/> 
                                                        </Grid.RowDefinitions>
                                                        <contr:ImageEntry VerticalOptions="Center"
                                                                        Focused="txtSubcategory_Focused"
                                                                        Grid.Row="0" Placeholder="Select Subcatgeory"
                                                                        Text="{Binding SelectedSubCategoryText}"
                                                                        Style="{StaticResource MyValueLabel}" 
                                                                        x:Name="txtSubcategory" FontSize="15"                                                        
                                                                        HorizontalTextAlignment="Start" Image="downarrowgray"
                                                                        IsEnabled="False" ImageHeight="20" ImageWidth="20"
                                                                        ImageAlignment="Right">
                                                                <VisualStateManager.VisualStateGroups>
                                                                    <VisualStateGroup x:Name="CommonStates">
                                                                        <VisualState x:Name="Disabled">
                                                                            <VisualState.Setters>
                                                                                <Setter Property="TextColor" Value="{StaticResource DarkGray}" />
                                                                            </VisualState.Setters>
                                                                        </VisualState>
                                                                    </VisualStateGroup>
                                                                </VisualStateManager.VisualStateGroups>
                                                            <contr:ImageEntry.HeightRequest>
                                                                    <OnPlatform x:TypeArguments="x:Double">
                                                                            <On Platform="Android">40</On>
                                                                            <On Platform="iOS">42</On>
                                                                        </OnPlatform>
                                                            </contr:ImageEntry.HeightRequest>
                                                        </contr:ImageEntry>
                                                        <Grid Grid.Row="1">
                                                                    <BoxView  BackgroundColor="#B4B1B1" VerticalOptions="Start"/>
                                                                </Grid>
                                                        <Grid.GestureRecognizers>
                                                            <TapGestureRecognizer
                                                                Tapped="TapGestureRecognizer_Tapped_1"
                                                                NumberOfTapsRequired="1"
                                                                />
                                                        </Grid.GestureRecognizers>
                                                    </Grid>
                                                </Grid>
                                            </Grid>
                                        </Grid>

                                        <Grid Grid.Row="1" RowSpacing="0" Margin="5,0,5,5">
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="auto"/>
                                                <RowDefinition Height="auto"/>                            
                                            </Grid.RowDefinitions>
                                            <Label Grid.Row="0" Margin="0,5,0,0" Text="Comment"  Style="{StaticResource MyTitleLabel}"  VerticalTextAlignment="Center"/>
                                            <contr:RoundedCornerView Grid.Row="1"  BorderColor="{StaticResource LightGray}" BorderWidth="1" RoundedCornerRadius="10">
                                                <Editor HeightRequest="80" Text="{Binding DisplayTrackerComment}"
                                                        BackgroundColor="White"
                                                        Placeholder="Please Enter Comment"
                                                        Style="{StaticResource EditorTxtValues}" VerticalOptions="Start"  />
                                            </contr:RoundedCornerView>                    
                                        </Grid>

                                        <Grid Grid.Row="3" RowSpacing="0" Margin="5,0,5,5">
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="auto"/>                       
                                            </Grid.RowDefinitions>
                                            <Button Grid.Row="0" Command="{Binding SearchPanaCompModelsCommand}"
                                                    Text="Search" Style="{StaticResource ButtonBlueStyle}" />

                                        </Grid>
                                    </Grid>
                                </StackLayout>
                            </cards:SfCardView>
                            <!--#endregion-->

                            <!--#region Todays Existing Entries -->
                            <cards:SfCardView IsVisible="false" Grid.Row="1" Padding="5" CornerRadius="10" HasShadow="False">
                                <Grid Grid.Row="0" RowSpacing="0" Margin="2,0,2,0">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto"/>
                                    </Grid.RowDefinitions>
                                     <Grid >
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto"/>
                                        </Grid.RowDefinitions>
                                         <syncfusion:SfExpander  DynamicSizeMode="None" BackgroundColor="{StaticResource WhiteColor}" Grid.Row="0" HeaderBackgroundColor="{StaticResource WhiteColor}" IsExpanded="False">
                                            <syncfusion:SfExpander.Header>
                                                <Grid BackgroundColor="{StaticResource WhiteColor}" Padding="10">
                                                    <Label Text="Todays Entries" Style="{StaticResource MyTitleLabel}" Padding="0,0,2,0"/>
                                                </Grid>
                                            </syncfusion:SfExpander.Header>
                                            <syncfusion:SfExpander.Content>
                                                <Grid Grid.Row="0" Margin="2" HeightRequest="{OnPlatform Android='330',iOS='370'}"> <!-- HeightRequest="400" {Binding PanaDetailsHeight} -->
                                                    <Grid.RowDefinitions>
                                                        <RowDefinition Height="auto"/>
                                                    </Grid.RowDefinitions>
                                                    <contr:RoundedCornerView   Grid.Row="0" BorderColor="{StaticResource borderColor}" BorderWidth="1" RoundedCornerRadius="10" >  
                                                        <Grid Grid.Row="0" BackgroundColor="White" Padding="5">
                                                            <Grid.RowDefinitions>
                                                                <RowDefinition Height="auto"/>
                                                                <RowDefinition Height="auto"/>
                                                            </Grid.RowDefinitions>

                                                            <!--#region Header row-->                                    
                                                            <Grid Grid.Row="0" Padding="2,0,2,0">
                                                                <Grid.RowDefinitions>
                                                                    <RowDefinition Height="auto"/>
                                                                </Grid.RowDefinitions>
                                        
                                                                <Grid Grid.Row="0" VerticalOptions="Center">
                                                                    <Grid.ColumnDefinitions>

                                                                        <ColumnDefinition Width="6*" />
                                                                        <ColumnDefinition Width="4*" />
                                                                    </Grid.ColumnDefinitions>
                            
                                                                    <Label  Text="Models" Grid.Column="0" Margin="5,0,0,0"
                                                                            HorizontalOptions="StartAndExpand"
                                                                            Style="{StaticResource MyTitleLabel}"                                               
                                                                            MaxLines="1" LineBreakMode="TailTruncation"/>
                                                                    <Label  Text="No of Units" 
                                                                            Grid.Column="1" HorizontalOptions="CenterAndExpand"
                                                                            Style="{StaticResource MyTitleLabel}"                                                    
                                                                            MaxLines="1" LineBreakMode="TailTruncation"/>
                                                                </Grid>
                    
                                                            </Grid>
                                                            <!--#endregion-->

                                                            <!--#region expandable list-->
                                                            <Grid Grid.Row="1" VerticalOptions="CenterAndExpand" HeightRequest="300"> <!-- HeightRequest="320" HeightRequest="{Binding PanaListRowHeight}"-->
                                                                <Grid.RowDefinitions>
                                                                    <RowDefinition Height="auto"/>
                                                                </Grid.RowDefinitions>
                                                                <CollectionView HeightRequest="300" ItemsSource="{Binding ObDisplayTrackerListResponse}" Grid.Row="0" BackgroundColor="Transparent" EmptyView="No record">
                                                                    <CollectionView.EmptyViewTemplate>
                                                                        <DataTemplate>
                                                                            <Label HorizontalTextAlignment="Center" VerticalTextAlignment="Start" FontSize="15" Style="{StaticResource LabelLargeBlack}" Text="No Entries" HeightRequest="60" />
                                                                        </DataTemplate>
                                                                    </CollectionView.EmptyViewTemplate>
                                                                    <CollectionView.ItemTemplate>
                                                                        <DataTemplate>
                                                                            <Grid BackgroundColor="Transparent">
                                                                                <Grid.RowDefinitions>
                                                                                    <RowDefinition Height="*"/>
                                                                                </Grid.RowDefinitions>
                                                                                <contr:RoundedCornerView Padding="5,0,5,0" Grid.Row="0" BorderColor="{StaticResource borderColor}" BorderWidth="2">
                                                                                    <Grid>                                                            
                                                                                        <xct:Expander ExpandAnimationEasing="{x:Static Easing.Linear}"  CollapseAnimationEasing="{x:Static Easing.Linear}" IsExpanded="{Binding IsExpanded}">
                                                                                            <xct:Expander.Header>

                                                                                            <Grid HeightRequest="50" BackgroundColor="{StaticResource LighterGray}" VerticalOptions="CenterAndExpand">
                                                                                                <Grid.RowDefinitions>
                                                                                                    <RowDefinition Height="auto"/>
                                                                                                </Grid.RowDefinitions>
                                                                                                <Grid HeightRequest="50" Grid.Row="0">
                                                                                                    <Grid.ColumnDefinitions>
                                                                                                        <ColumnDefinition Width="6*" />
                                                                                                        <ColumnDefinition Width="4*" />
                                                                                                    </Grid.ColumnDefinitions>
                                                                                
                                                                                                    <StackLayout Grid.Column="0">
                                                                                                        <Label  Text="{Binding ModelName}" Grid.Column="0"
                                                                                                                Style="{StaticResource LabelMediumBlue}" FontSize="Small"
                                                                                                                LineBreakMode="TailTruncation" MaxLines="1" Margin="5,0,0,0"
                                                                                                                HorizontalOptions="StartAndExpand" VerticalOptions="CenterAndExpand" />
                                                                                                    </StackLayout>
                                                                                                    <contr:EntryWithoutDoneBtn BorderColor="{StaticResource GrayShade}" Margin="2" WidthRequest="120" HeightRequest="44"
                                                                                                        BackgroundColor="{StaticResource WhiteColor}" Text="{Binding Qty}" FontSize="Small"
                                                                                                        Style="{StaticResource EditorTxtValues}"  HorizontalTextAlignment="Start"
                                                                                                        HorizontalOptions="CenterAndExpand" VerticalOptions="CenterAndExpand"
                                                                                                        Grid.Column="1" IsReadOnly="True">                                                                                                       
                                                                                                    </contr:EntryWithoutDoneBtn>
                                                                                                </Grid>                                                                                            
                                                                                            </Grid>
                                                                                    
                                                                                            </xct:Expander.Header>                                                                            
                                                                                        </xct:Expander>
                                                                                    </Grid>
                                                                                </contr:RoundedCornerView>
                                                                            </Grid>
                                                                        </DataTemplate>
                                                                    </CollectionView.ItemTemplate>
                                                                </CollectionView>                                                                                            
                                                            </Grid>
                                                            <!--#endregion-->
                                                        </Grid>
                                                    </contr:RoundedCornerView>                                                    
                                                </Grid> 
                                            </syncfusion:SfExpander.Content>
                                         </syncfusion:SfExpander>

                                     </Grid>             
                                </Grid>
                            </cards:SfCardView>                                
                            <!--#endregion-->

                            <!--#region Panasonic Units-->
                            <cards:SfCardView Grid.Row="2" Padding="5" CornerRadius="10" HasShadow="False">
                                <Grid Grid.Row="0" RowSpacing="0" Margin="2,0,2,0">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto"/>
                                    </Grid.RowDefinitions>
                                     <Grid>
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                        </Grid.RowDefinitions>
                                         <syncfusion:SfExpander Grid.Row="0" DynamicSizeMode="None" BackgroundColor="{StaticResource WhiteColor}" HeaderBackgroundColor="{StaticResource WhiteColor}" IsExpanded="False">
                                            <syncfusion:SfExpander.Header>
                                                <Grid BackgroundColor="{StaticResource WhiteColor}" Padding="10">
                                                    <Label Text="Panasonic Units" Style="{StaticResource MyTitleLabel}" Padding="0,0,2,0"/>
                                                </Grid>
                                            </syncfusion:SfExpander.Header>
                                            <syncfusion:SfExpander.Content>
                                                <Grid Grid.Row="0" Margin="2" HeightRequest="350"> <!-- HeightRequest="400" {Binding PanaDetailsHeight} -->
                                                    <Grid.RowDefinitions>
                                                        <RowDefinition Height="auto"/>
                                                    </Grid.RowDefinitions>
                                                    <contr:RoundedCornerView   Grid.Row="0" BorderColor="{StaticResource borderColor}" BorderWidth="1" RoundedCornerRadius="10" >  
                                                        <Grid Grid.Row="0" BackgroundColor="White" Padding="5">
                                                            <Grid.RowDefinitions>
                                                                <RowDefinition Height="auto"/>
                                                                <RowDefinition Height="auto"/>
                                                            </Grid.RowDefinitions>

                                                            <!--#region third row-->
                                    
                                                            <Grid Grid.Row="0" Padding="2,0,2,0">
                                                                <Grid.RowDefinitions>
                                                                    <RowDefinition Height="auto"/>
                                                                </Grid.RowDefinitions>
                                        
                                                                <Grid Grid.Row="0" VerticalOptions="Center">
                                                                    <Grid.ColumnDefinitions>

                                                                        <ColumnDefinition Width="6*" />
                                                                        <ColumnDefinition Width="4*" />
                                                                    </Grid.ColumnDefinitions>
                            
                                                                    <Label  Text="Panasonic Model" Grid.Column="0" Margin="5,0,0,0"
                                                                            HorizontalOptions="StartAndExpand"
                                                                            Style="{StaticResource MyTitleLabel}"                                               
                                                                            MaxLines="1" LineBreakMode="TailTruncation"/>
                                                                    <Label  Text="No of Units" 
                                                                            Grid.Column="1" HorizontalOptions="CenterAndExpand"
                                                                            Style="{StaticResource MyTitleLabel}"                                                    
                                                                            MaxLines="1" LineBreakMode="TailTruncation"/>
                                                                </Grid>
                    
                                                            </Grid>
                                                            <!--#endregion-->

                                                            <!--#region expandable list-->
                                                            <Grid Grid.Row="1" VerticalOptions="CenterAndExpand" HeightRequest="300"> <!-- HeightRequest="320" HeightRequest="{Binding PanaListRowHeight}"-->
                                                                <Grid.RowDefinitions>
                                                                    <RowDefinition Height="auto"/>
                                                                </Grid.RowDefinitions>
                                                                <CollectionView Grid.Row="0"  ItemsSource="{Binding ObProductModelResponses}" BackgroundColor="Transparent" EmptyView="No record">
                                                                    <CollectionView.EmptyViewTemplate>
                                                                        <DataTemplate>
                                                                            <Label HorizontalTextAlignment="Center" VerticalTextAlignment="Start" FontSize="15" Style="{StaticResource LabelLargeBlack}" Text="No Entries" HeightRequest="60" />
                                                                        </DataTemplate>
                                                                    </CollectionView.EmptyViewTemplate>
                                                                    <CollectionView.ItemTemplate>
                                                                        <DataTemplate>
                                                                           <Grid BackgroundColor="Transparent">
                                                                                    <Grid.RowDefinitions>
                                                                                        <RowDefinition Height="*"/>
                                                                                    </Grid.RowDefinitions>
                                                                                    <contr:RoundedCornerView Padding="5,0,5,0" Grid.Row="0" BorderColor="{StaticResource borderColor}" BorderWidth="2">
                                                                                        <Grid>                                                            
                                                                                            <xct:Expander ExpandAnimationEasing="{x:Static Easing.Linear}"  CollapseAnimationEasing="{x:Static Easing.Linear}" IsExpanded="{Binding IsExpanded}">
                                                                                                <xct:Expander.Header>

                                                                                                <Grid HeightRequest="50" BackgroundColor="{StaticResource LighterGray}" VerticalOptions="CenterAndExpand">
                                                                                                    <Grid.RowDefinitions>
                                                                                                        <RowDefinition Height="auto"/>
                                                                                                    </Grid.RowDefinitions>
                                                                                                    <Grid HeightRequest="50" Grid.Row="0">
                                                                                                        <Grid.ColumnDefinitions>
                                                                                                            <ColumnDefinition Width="6*" />
                                                                                                            <ColumnDefinition Width="4*" />
                                                                                                        </Grid.ColumnDefinitions>
                                                                                
                                                                                                        <StackLayout Grid.Column="0">
                                                                                                            <Label  Text="{Binding ProductModelName}" Grid.Column="0"
                                                                                                                    Style="{StaticResource LabelMediumBlue}" FontSize="Small"
                                                                                                                    LineBreakMode="TailTruncation" MaxLines="1" Margin="5,0,0,0"
                                                                                                                    HorizontalOptions="StartAndExpand" VerticalOptions="CenterAndExpand" />
                                                                                                        </StackLayout>
                                                                                                        <contr:EntryWithoutDoneBtn BorderColor="{StaticResource GrayShade}" Margin="2"
                                                                                                            WidthRequest="120" HeightRequest="44"
                                                                                                            BackgroundColor="{StaticResource WhiteColor}"
                                                                                                            Text="{Binding Qty}" FontSize="Small"
                                                                                                            Style="{StaticResource EditorTxtValues}"  HorizontalTextAlignment="Start"
                                                                                                            HorizontalOptions="CenterAndExpand" VerticalOptions="CenterAndExpand"
                                                                                                            Grid.Column="1" Keyboard="Numeric" >
                                                                                                            <contr:EntryWithoutDoneBtn.Behaviors>
                                                                                                                <xct:EventToCommandBehavior
                                                                                                                    EventName="Unfocused"
                                                                                                                    Command="{Binding BindingContext.CalculateTotalPanasonicUnits,Source={x:Reference Name=root}}"
                                                                                                                    CommandParameter="{Binding .}"/>
                                                                                                            </contr:EntryWithoutDoneBtn.Behaviors>
                                                                                                        </contr:EntryWithoutDoneBtn>
                                                                                                    </Grid>                                                                                            
                                                                                                </Grid>
                                                                                    
                                                                                                </xct:Expander.Header>                                                                            
                                                                                            </xct:Expander>
                                                                                        </Grid>
                                                                                    </contr:RoundedCornerView>
                                                                                </Grid>
                                                                        </DataTemplate>
                                                                    </CollectionView.ItemTemplate>
                                                                </CollectionView>                                                                                            
                                                            </Grid>
                                                            <!--#endregion-->
                                                        </Grid>
                                                    </contr:RoundedCornerView>
                                                </Grid> 
                                            </syncfusion:SfExpander.Content>
                                         </syncfusion:SfExpander>
                                         <Grid Grid.Row="1" RowSpacing="0" Padding="0,5,0,5" Margin="2,0,2,0" HeightRequest="45" VerticalOptions="EndAndExpand">
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="50"/>
                                            </Grid.RowDefinitions>
                                            <Grid Grid.Row="0" HeightRequest="50" BackgroundColor="{StaticResource LighterGray}" VerticalOptions="CenterAndExpand">
                                                <Grid.RowDefinitions>
                                                    <RowDefinition Height="auto"/>
                                                    <RowDefinition Height="auto"/>
                                                </Grid.RowDefinitions>
                                                <Grid HeightRequest="45" Grid.Row="0">
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="6*" />
                                                        <ColumnDefinition Width="4*" />
                                                    </Grid.ColumnDefinitions>
                                                                                
                                                    <StackLayout WidthRequest="120" Grid.Column="0">
                                                        <Label  Text="Total Panasonic Units" Grid.Column="0"
                                                                Style="{StaticResource LabelMediumBlue}" FontSize="Small"
                                                                LineBreakMode="TailTruncation" MaxLines="1" Margin="5,0,0,0"
                                                                HorizontalOptions="StartAndExpand" VerticalOptions="CenterAndExpand" />
                                                    </StackLayout>
                                                    <contr:EntryWithRoundedCorner Margin="5,2,0,0" WidthRequest="120" Text="{Binding TotalPanasonicUnits}" FontSize="Small"
                                                            Style="{StaticResource LabelMediumBlack}" HeightRequest="45" BackgroundColor="White"
                                                            HorizontalOptions="StartAndExpand" VerticalOptions="CenterAndExpand" HorizontalTextAlignment="Start"
                                                            Grid.Column="1" IsReadOnly="True" >
                                                    </contr:EntryWithRoundedCorner>
                                                </Grid>                                                                                            
                                            </Grid>                              
                                         </Grid>

                                     </Grid>             
                                </Grid>
                            </cards:SfCardView>                                
                            <!--#endregion-->

                            <!--#region Competitor Units-->
                            <cards:SfCardView Grid.Row="3" Padding="5" CornerRadius="10" HasShadow="False">
                                <Grid Grid.Row="0" RowSpacing="0" Margin="2,0,2,0">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                    </Grid.RowDefinitions>
                                    <xct:Expander BackgroundColor="{StaticResource WhiteColor}" Grid.Row="0"  IsExpanded="False">
                                        <xct:Expander.Header>
                                            <!--<Grid BackgroundColor="{StaticResource WhiteColor}" Padding="10">
                                                <Label Text="Competitor Units" Style="{StaticResource MyTitleLabel}" Padding="0,0,2,0"/>
                                            </Grid>-->
                                            <Grid Padding="10" BackgroundColor="{StaticResource WhiteColor}" VerticalOptions="CenterAndExpand">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="9*" />
                                                    <ColumnDefinition Width="1*" />
                                                </Grid.ColumnDefinitions>
                                                <StackLayout Padding="5,0,5,0" Grid.Column="1">
                                                    <xct:AvatarView Size="20" HeightRequest="20" WidthRequest="20"
                                                        Source="downarrowgray.png" BackgroundColor="{StaticResource WhiteColor}"
                                                        HorizontalOptions="End" VerticalOptions="CenterAndExpand" Color="{StaticResource WhiteColor}"/>
                                                </StackLayout>
                                                <StackLayout Margin="2,0,0,0" Grid.Column="0">
                                                    <Label  Text="Competitor Units"
                                                            Style="{StaticResource MyTitleLabel}" 
                                                            MaxLines="1" HorizontalTextAlignment="Start"
                                                            HorizontalOptions="StartAndExpand" VerticalOptions="CenterAndExpand" />
                                                </StackLayout>                                                                       
                                            </Grid>
                                        </xct:Expander.Header>
                                        <xct:Expander.Content>
                                            <Grid Grid.Row="0" Margin="2" HeightRequest= "{OnPlatform Android='500',iOS='550'}"> <!--old-400, HeightRequest="550"-->
                                                <Grid.RowDefinitions>
                                                    <RowDefinition Height="{OnPlatform Android='440',iOS='480'}"/>
                                                    <RowDefinition Height="{OnPlatform Android='60',iOS='60'}"/>
                                                </Grid.RowDefinitions>
                                                <contr:RoundedCornerView HeightRequest="{OnPlatform Android='440',iOS='480'}"  Grid.Row="0" BorderColor="{StaticResource borderColor}" BorderWidth="1" RoundedCornerRadius="10" >  
                                                    <Grid Grid.Row="0" BackgroundColor="White" Padding="5">
                                                        <Grid.RowDefinitions>
                                                            <RowDefinition Height="auto"/>
                                                            <RowDefinition Height="auto"/>
                                                        </Grid.RowDefinitions>

                                                        <!--#region header row-->
                                    
                                                        <Grid Grid.Row="0" Padding="2,0,2,0">
                                                            <Grid.RowDefinitions>
                                                                <RowDefinition Height="auto"/>
                                                            </Grid.RowDefinitions>
                                        
                                                            <Grid Grid.Row="0" VerticalOptions="Center">
                                                                <Grid.ColumnDefinitions>
                                                                    <ColumnDefinition Width="6*" />
                                                                    <ColumnDefinition Width="4*" />
                                                                </Grid.ColumnDefinitions>
                            
                                                                <Label  Text="Competitor Brand Models" Grid.Column="0" Margin="5,0,0,0"
                                                                        HorizontalOptions="StartAndExpand"
                                                                        Style="{StaticResource MyTitleLabel}"                                               
                                                                        MaxLines="1" LineBreakMode="TailTruncation"/>
                                                                <Label  Text="No of Units" 
                                                                        Grid.Column="1" HorizontalOptions="CenterAndExpand"
                                                                        Style="{StaticResource MyTitleLabel}"                                                    
                                                                        MaxLines="1" LineBreakMode="TailTruncation"/>
                                                            </Grid>
                    
                                                        </Grid>
                                                        <!--#endregion-->
                                                        <Grid Grid.Row="1" HeightRequest="{OnPlatform iOS='480'}">
                                                            <Grid.RowDefinitions>
                                                                <RowDefinition Height="{OnPlatform iOS='480'}"/>
                                                            </Grid.RowDefinitions>
                                                            <StackLayout HorizontalOptions="FillAndExpand" VerticalOptions="FillAndExpand">
                                                                <ScrollView>
                                                                    <StackLayout BindableLayout.ItemsSource="{Binding ObDispalyModelsResponse}">
                                                                        <BindableLayout.ItemTemplate>
                                                                            <DataTemplate>
                                                                                <Grid RowSpacing="0">
                                                                                    <Grid.RowDefinitions>
                                                                                        <RowDefinition Height="auto"/>
                                                                                        <RowDefinition Height="auto"/>
                                                                                    </Grid.RowDefinitions>
                                        
                                                                                    <xct:Expander Grid.Row="0" ExpandAnimationEasing="{x:Static Easing.Linear}"
                                                                                            CollapseAnimationEasing="{x:Static Easing.Linear}"
                                                                                            IsExpanded="{Binding IsExpanded}">
                                                                                        <xct:Expander.Header>
                                                                                            <Grid HeightRequest="40" BackgroundColor="{StaticResource LighterGray}" VerticalOptions="CenterAndExpand">
                                                                                                <Grid.ColumnDefinitions>
                                                                                                    <ColumnDefinition Width="1*" />
                                                                                                    <ColumnDefinition Width="9*" />
                                                                                                </Grid.ColumnDefinitions>
                                                                                                <StackLayout Padding="5,0,5,0" Grid.Column="0">
                                                                                                    <xct:AvatarView Size="25" HeightRequest="20" WidthRequest="20"
                                                                                                        Source="{Binding ArrowUrl}" BackgroundColor="{StaticResource LighterGray}"
                                                                                                        HorizontalOptions="Start" VerticalOptions="CenterAndExpand" Color="{StaticResource LighterGray}"/>
                                                                                                </StackLayout>
                                                                                                <StackLayout Margin="2,0,0,0" Grid.Column="1">
                                                                                                    <Label  Text="{Binding Comp_brand}"
                                                                                                            Style="{StaticResource LabelMediumBlue}" FontSize="Small"
                                                                                                            MaxLines="1" HorizontalTextAlignment="Start"
                                                                                                            HorizontalOptions="StartAndExpand" VerticalOptions="CenterAndExpand" />
                                                                                                </StackLayout>                                                                       
                                                                                            </Grid>
                                                                                        </xct:Expander.Header>
                                                                                        <!--#region competitor list-->
                                                                                        <Grid RowSpacing="0" BackgroundColor="{StaticResource LighterGray}">
                                                                                            <Grid.RowDefinitions>
                                                                                                <RowDefinition Height="auto"/>
                                                                                                <RowDefinition Height="auto"/>
                                                                                            </Grid.RowDefinitions>
                                                                                            <CollectionView Grid.Row="0" x:Name="SubCatCollectionView"
                                                                                                        ItemsSource="{Binding CompetitorModels}"
                                                                                                        SelectionMode="Single"
                                                                                                        VerticalOptions="FillAndExpand"
                                                                                                        HorizontalOptions="FillAndExpand"                                                                         
                                                                                                        HeightRequest="{Binding RowHeight}">
                                                                                                <CollectionView.ItemTemplate>
                                                                                                    <DataTemplate>
                                                                                                                                                                                                                        <Grid HeightRequest="50" BackgroundColor="{StaticResource LighterGray}">
                                                                                                                <Grid>
                                                                                                                    <Grid.ColumnDefinitions>
                                                                                                                        <ColumnDefinition Width="6*" />
                                                                                                                        <ColumnDefinition Width="4*" />
                                                                                                                    </Grid.ColumnDefinitions>
                                                                                                                    <StackLayout Grid.Column="0">
                                                                                                                        <Label  Style="{StaticResource LabelMediumBlue}" FontSize="Small"
                                                                                                                                LineBreakMode="TailTruncation" MaxLines="1" Margin="5,0,0,0"
                                                                                                                                HorizontalOptions="StartAndExpand" VerticalOptions="CenterAndExpand">
                                                                                                                            <Label.FormattedText>
                                                                                                                                <FormattedString>
                                                                                                                                    <Span Text="{Binding BrandName}" Style="{StaticResource MyTitleLabel}" />
                                                                                                                                    <Span Text="-" Style="{StaticResource MyTitleLabel}" />
                                                                                                                                    <Span Text="{Binding ProductModelName}" Style="{StaticResource MyTitleLabel}"/>
                                                                                                                                </FormattedString>
                                                                                                                            </Label.FormattedText>
                                                                                                                        </Label>
                                                                                                                    </StackLayout>
                                                                                                                    <contr:EntryWithoutDoneBtn BorderColor="{StaticResource GrayShade}" Margin="0,2,0,0" WidthRequest="120" HeightRequest="44"
                                                                                                                        BackgroundColor="{StaticResource WhiteColor}" Text="{Binding Qty}" FontSize="Small"
                                                                                                                        Style="{StaticResource EditorTxtValues}" HorizontalTextAlignment="Start"
                                                                                                                        HorizontalOptions="CenterAndExpand" VerticalOptions="CenterAndExpand"
                                                                                                                        Grid.Column="1" Keyboard="Numeric" >
                                                                                                                        <contr:EntryWithoutDoneBtn.Behaviors>
                                                                                                                            <xct:EventToCommandBehavior
                                                                                                                                EventName="Unfocused"
                                                                                                                                Command="{Binding BindingContext.CalculateTotalCompUnits,Source={x:Reference Name=root}}"
                                                                                                                                CommandParameter="{Binding .}"/>
                                                                                                                        </contr:EntryWithoutDoneBtn.Behaviors>
                                                                                                                    </contr:EntryWithoutDoneBtn>                                                                                       
                                                                                                                </Grid>
                                                                                                            </Grid>

                                                                                                    </DataTemplate>
                                                                                                </CollectionView.ItemTemplate>
                                                                                                <CollectionView.EmptyView>
                                                                                                    <StackLayout>
                                                                                                        <Label    Text="{Binding EmptyViewText}"
                                                                                                                Margin="0,10,0,10"
                                                                                                                FontSize="Large" />
                                                                                                    </StackLayout>
                                                                                                </CollectionView.EmptyView>
                                                                                            </CollectionView>

                                                                                            <Grid HeightRequest="45" Grid.Row="1" BackgroundColor="{StaticResource LighterGray}">
                                                                                                <Grid.ColumnDefinitions>
                                                                                                    <ColumnDefinition Width="6*" />
                                                                                                    <ColumnDefinition Width="4*" />
                                                                                                </Grid.ColumnDefinitions>
                                                                                
                                                                                                <StackLayout  Grid.Column="0" Margin="5,0,0,0">
                                                                                                    <Label Grid.Row="0" VerticalOptions="CenterAndExpand" HorizontalOptions="StartAndExpand" MaxLines="1" LineBreakMode="TailTruncation" Style="{StaticResource MyTitleLabel}">
                                                                                                        <Label.FormattedText>
                                                                                                            <FormattedString>
                                                                                                                <Span Text="Other" Style="{StaticResource MyTitleLabel}" />
                                                                                                                <Span Text="-" Style="{StaticResource MyTitleLabel}" />
                                                                                                                <Span Text="{Binding Comp_brand}" Style="{StaticResource MyTitleLabel}"/>
                                                                                                            </FormattedString>
                                                                                                        </Label.FormattedText>
                                                                                                    </Label>
                                                                                                </StackLayout>
                                                                                                <contr:EntryWithoutDoneBtn Margin="0,2,0,0" WidthRequest="120" HeightRequest="44"
                                                                                                    BackgroundColor="{StaticResource WhiteColor}" Text="{Binding OtherQty}" FontSize="Small"
                                                                                                    Style="{StaticResource EditorTxtValues}" HorizontalTextAlignment="Start"
                                                                                                    HorizontalOptions="CenterAndExpand" VerticalOptions="CenterAndExpand"
                                                                                                    Grid.Column="1" Keyboard="Numeric" >
                                                                                                    <contr:EntryWithoutDoneBtn.Behaviors>
                                                                                                        <xct:EventToCommandBehavior
                                                                                                            EventName="Unfocused"
                                                                                                            Command="{Binding BindingContext.CalculateTotalCompUnitsOthers,Source={x:Reference Name=root}}"
                                                                                                            CommandParameter="{Binding .}"/>
                                                                                                    </contr:EntryWithoutDoneBtn.Behaviors>
                                                                                                </contr:EntryWithoutDoneBtn>
                                                                                            </Grid>
                                                                                        </Grid>
                                                                                


                                                                                        <!--#endregion-->
                                                                                    </xct:Expander>
                                                                            
                                                                                </Grid>
                                                                            </DataTemplate>
                                                                        </BindableLayout.ItemTemplate>
                                                                    </StackLayout>
                                                                </ScrollView>
                                                            </StackLayout>
                                                        </Grid>
                                                    </Grid>
                                                </contr:RoundedCornerView>
                                                <Grid Grid.Row="1" HeightRequest="{OnPlatform Android='50',iOS='50'}" RowSpacing="0" Margin="2,0,2,0" VerticalOptions="EndAndExpand" >
                                                    <Grid.RowDefinitions>
                                                        <RowDefinition Height="{OnPlatform Android='50',iOS='50'}"/>
                                                    </Grid.RowDefinitions>
                                                    <Grid BackgroundColor="{StaticResource LighterGray}" VerticalOptions="EndAndExpand" HeightRequest="{OnPlatform Android='50',iOS='50'}" Grid.Row="0">
                                                        <Grid.ColumnDefinitions>
                                                            <ColumnDefinition Width="6*" />
                                                            <ColumnDefinition Width="4*" />
                                                        </Grid.ColumnDefinitions>
                                                                                
                                                        <StackLayout Grid.Column="0">
                                                            <Label  Text="Other Brands" 
                                                                    Style="{StaticResource LabelMediumBlue}" FontSize="Small"
                                                                    LineBreakMode="TailTruncation" MaxLines="1" Margin="5,0,0,0"
                                                                    HorizontalOptions="StartAndExpand" VerticalOptions="CenterAndExpand" />
                                                        </StackLayout>
                                                        <contr:EntryWithRoundedCorner  WidthRequest="120" Margin="0,2,0,0" Text="{Binding TotalOtherCompetitorUnits,Mode=TwoWay}" FontSize="Small"
                                                                Style="{StaticResource LabelMediumBlack}" HeightRequest="45" IsEnabled="True" BackgroundColor="White"
                                                                HorizontalOptions="StartAndExpand" VerticalOptions="CenterAndExpand" HorizontalTextAlignment="Start"
                                                                Grid.Column="1" Keyboard="Numeric" Unfocused="Entry_Unfocused">
                                                        </contr:EntryWithRoundedCorner>
                                                    </Grid>                                                                                            

                                                    <!--<Grid Grid.Row="0" HeightRequest="{OnPlatform Android='50',iOS='50'}" BackgroundColor="{StaticResource LighterGray}" VerticalOptions="EndAndExpand">
                                                        <Grid.RowDefinitions>
                                                            <RowDefinition Height="auto"/>
                                                        </Grid.RowDefinitions>
                                                        <Grid HeightRequest="{OnPlatform Android='50',iOS='50'}" Grid.Row="0">
                                                            <Grid.ColumnDefinitions>
                                                                <ColumnDefinition Width="6*" />
                                                                <ColumnDefinition Width="4*" />
                                                            </Grid.ColumnDefinitions>
                                                                                
                                                            <StackLayout Grid.Column="0">
                                                                <Label  Text="Other Brands" 
                                                                        Style="{StaticResource LabelMediumBlue}" FontSize="Small"
                                                                        LineBreakMode="TailTruncation" MaxLines="1" Margin="5,0,0,0"
                                                                        HorizontalOptions="StartAndExpand" VerticalOptions="CenterAndExpand" />
                                                            </StackLayout>
                                                            <contr:EntryWithRoundedCorner  WidthRequest="120" Margin="0,2,0,0" Text="{Binding TotalOtherCompetitorUnits,Mode=TwoWay}" FontSize="Small"
                                                                    Style="{StaticResource LabelMediumBlack}" HeightRequest="45" IsEnabled="True" BackgroundColor="White"
                                                                    HorizontalOptions="StartAndExpand" VerticalOptions="CenterAndExpand" HorizontalTextAlignment="Start"
                                                                    Grid.Column="1" Keyboard="Numeric" Unfocused="Entry_Unfocused">
                                                            </contr:EntryWithRoundedCorner>
                                                        </Grid>                                                                                            
                                                    </Grid>-->                              
                                                </Grid>
                                            </Grid>
                                        </xct:Expander.Content>
                                    </xct:Expander>

                                    <!--<Grid Grid.Row="1" RowSpacing="0" Margin="2,0,2,0">
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="45"/>
                                        </Grid.RowDefinitions>
                                        <Grid Grid.Row="0" HeightRequest="45" BackgroundColor="{StaticResource LighterGray}" VerticalOptions="CenterAndExpand">
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="auto"/>
                                                <RowDefinition Height="auto"/>
                                            </Grid.RowDefinitions>
                                            <Grid HeightRequest="45" Grid.Row="0">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="6*" />
                                                    <ColumnDefinition Width="4*" />
                                                </Grid.ColumnDefinitions>
                                                                                
                                                <StackLayout Grid.Column="0">
                                                    <Label  Text="Other Brands" 
                                                            Style="{StaticResource LabelMediumBlue}" FontSize="Small"
                                                            LineBreakMode="TailTruncation" MaxLines="1" Margin="5,0,0,0"
                                                            HorizontalOptions="StartAndExpand" VerticalOptions="CenterAndExpand" />
                                                </StackLayout>
                                                <contr:EntryWithRoundedCorner  WidthRequest="120" Margin="0,2,0,0" Text="{Binding TotalOtherCompetitorUnits,Mode=TwoWay}" FontSize="Small"
                                                        Style="{StaticResource LabelMediumBlack}" HeightRequest="45" IsEnabled="True" BackgroundColor="White"
                                                        HorizontalOptions="StartAndExpand" VerticalOptions="CenterAndExpand" HorizontalTextAlignment="Start"
                                                        Grid.Column="1" Keyboard="Numeric" Unfocused="Entry_Unfocused">
                                                </contr:EntryWithRoundedCorner>
                                            </Grid>                                                                                            
                                        </Grid>                              
                                    </Grid>-->

                                    <Grid Grid.Row="2" RowSpacing="0" Margin="2,0,2,0">
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="45"/>
                                        </Grid.RowDefinitions>
                                        <Grid Grid.Row="0" HeightRequest="45" BackgroundColor="{StaticResource LighterGray}" VerticalOptions="CenterAndExpand">
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="auto"/>
                                                <RowDefinition Height="auto"/>
                                            </Grid.RowDefinitions>
                                            <Grid HeightRequest="45" Grid.Row="0">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="6*" />
                                                    <ColumnDefinition Width="4*" />
                                                </Grid.ColumnDefinitions>
                                                                                
                                                <StackLayout Grid.Column="0">
                                                    <Label  Text="Total Competitor Units" 
                                                            Style="{StaticResource LabelMediumBlue}" FontSize="Small"
                                                            LineBreakMode="TailTruncation" MaxLines="1" Margin="5,2,0,0"
                                                            HorizontalOptions="StartAndExpand" VerticalOptions="CenterAndExpand" />
                                                </StackLayout>
                                                <contr:EntryWithRoundedCorner Grid.Column="1"  WidthRequest="120" Text="{Binding TotalCompetitorUnits}" FontSize="Small"
                                                        Style="{StaticResource LabelMediumBlack}" HeightRequest="45" BackgroundColor="White" IsReadOnly="True"
                                                        HorizontalOptions="StartAndExpand" VerticalOptions="CenterAndExpand" HorizontalTextAlignment="Start"
                                                        >
                                                </contr:EntryWithRoundedCorner>

                                            </Grid>                                                                                            
                                        </Grid>                              
                                    </Grid>
                                    
                                </Grid>
                            </cards:SfCardView>
                            <!--#endregion-->

                            <!--#region Total Display-->
                            <cards:SfCardView Grid.Row="4" Padding="5" CornerRadius="10" HasShadow="False">
                                <Grid Grid.Row="0" RowSpacing="0" Margin="2,2,2,0">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="45"/>
                                    </Grid.RowDefinitions>
                                    <Grid Grid.Row="0" HeightRequest="45" BackgroundColor="{StaticResource LighterGray}" VerticalOptions="CenterAndExpand">
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="auto"/>
                                            <RowDefinition Height="auto"/>
                                        </Grid.RowDefinitions>
                                        <Grid HeightRequest="45" Grid.Row="0">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="6*" />
                                                <ColumnDefinition Width="4*" />
                                            </Grid.ColumnDefinitions>
                                                                                
                                            <StackLayout Grid.Column="0">
                                                <Label  Text="Total Display" 
                                                        Style="{StaticResource LabelMediumBlue}" FontSize="Small"
                                                        LineBreakMode="TailTruncation" MaxLines="1" Margin="5,2,0,0"
                                                        HorizontalOptions="StartAndExpand" VerticalOptions="CenterAndExpand" />
                                            </StackLayout>
                                            <contr:EntryWithRoundedCorner Grid.Column="1" Margin="0,2,0,0" WidthRequest="120" Text="{Binding TotalDisplay}" FontSize="Small"
                                                    Style="{StaticResource LabelMediumBlack}" HeightRequest="45" BackgroundColor="White" IsReadOnly="True"
                                                    HorizontalOptions="StartAndExpand" VerticalOptions="CenterAndExpand" HorizontalTextAlignment="Start"
                                                    >
                                            </contr:EntryWithRoundedCorner>

                                        </Grid>                                                                                            
                                    </Grid>                              
                                </Grid>


                            </cards:SfCardView>


                            <!--#endregion-->

                            <!--#region Buttons-->
                            <Grid VerticalOptions="EndAndExpand" Grid.Row="5" BackgroundColor="Transparent" Padding="1">

                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="5*"/>
                                    <ColumnDefinition Width="5*"/>
                                </Grid.ColumnDefinitions>

                                <Button Grid.Column="0" IsEnabled="{Binding IsDisplayTrackerSaveEnable}" Command="{Binding SaveDisplayTrackerEntries}" Text="Submit" Style="{StaticResource ButtonBlueStyle}" />

                                <Button Grid.Column="1" Command="{Binding CancelCommand}" Text="Cancel" Style="{StaticResource ButtonPinkStyle}"/>

                            </Grid>
                            <!--#endregion-->
                        </Grid>
                    </Grid>
                </Grid>

                <contr:LoaderAnimView
                    AbsoluteLayout.LayoutBounds="0.5,0.5,50,50"   
                    AbsoluteLayout.LayoutFlags="XProportional,YProportional"
                    />
            </AbsoluteLayout>
        </ScrollView>
    </ContentPage.Content>
</ContentPage>

<!--AbsoluteLayout.LayoutBounds="{OnPlatform iOS='0.6, 0.2, 150, 180',Android='0.5, 0.5, 100, 100'}"
                    AbsoluteLayout.LayoutFlags="PositionProportional"-->